<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Video and Audio Stream</title>
    <style>
        .controls {
            margin-top: 10px;
        }
        .volume-slider {
            width: 100px;
        }
    </style>
</head>
<body>
    <h1>Video and Audio Stream</h1>
    <img src="{% url 'video_feed' %}" width="640" height="480" />

    <div class="controls">
        <button id="muteButton">Mute</button>
        <input type="range" id="volumeSlider" class="volume-slider" min="0" max="1" step="0.01" value="0.5">
    </div>

    <audio id="audio" autoplay>
        <source src="{% url 'video_feed' %}" type="audio/wav">
        Your browser does not support the audio element.
    </audio>

    <script>
        const audioElement = document.getElementById('audio');
        const muteButton = document.getElementById('muteButton');
        const volumeSlider = document.getElementById('volumeSlider');

        // Set initial volume to 50%
        audioElement.volume = 0.5;

        // Mute/unmute audio
        muteButton.addEventListener('click', function() {
            if (audioElement.muted) {
                audioElement.muted = false;
                muteButton.textContent = 'Mute';
            } else {
                audioElement.muted = true;
                muteButton.textContent = 'Unmute';
            }
        });

        // Adjust volume
        volumeSlider.addEventListener('input', function() {
            audioElement.volume = volumeSlider.value;
        });
    </script>
</body>
</html>